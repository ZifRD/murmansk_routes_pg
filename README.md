# murmansk_routes_pg

Одна из задач по тематике ГОБУ "Мурманская база авиационной охраны лесов" при тушении лесных пожаров: оптимизация доставки сил и средств наземным транспортом в условиях нескольких проблемных очагов. В качестве примера была реализована ситуация построения кратчайшего маршрута от комплекса зданий ГУ МЧС России по Мурманской области до точки из базы OpenStreetMap, которая наиболее близка к той, что задаёт кликом пользователь как очаг пожара в городе или в окрестных лесах.

![Превью](https://github.com/ZifRD/murmansk_routes_pg/blob/master/preview.png)

Карта содержит следующие объекты:
1) маркеры и тектовые метки для двух точек - начала и конца маршрута;
2) ломаную маршрута (линия синего цвета);
3) границу фрагмента карты, для которого построена база путей (зелёный прямоугольник);
4) границу фрагмента карты, внутри которого можно выбрать точку - очаг пожара (красный прямоугольник с заливкой);
5) границы и текстовые метки (появляются при наведении курсора мыши) для пригородов с указанием площади.

Версии основных программных компонентов манипулирования данными: PostgreSQL 10, PostGIS 2.4, pgRouting 2.6.2.

Справочная информация:
1. Все данные взяты из OpenStreetMap (OSM). На момент подготовки данных (март 2019 г.) БД OSM для России составляла более 2 Гбайт (архив PBF). Фрагмент для Мурманской области - 35 Мбайт (архив PBF). Развёрнутая PostgreSQL БД (создаётся с помощью)
2. Для создания БД путей файл *.pbf разархивируется в *.osm
2. Объекты (5) загружаются из отдельного шейпфайла (папка towns), а не из БД путей.
